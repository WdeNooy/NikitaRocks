<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">

<head>

<meta charset="utf-8">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="pandoc" />



<meta name="progressive" content="true" />
<meta name="allow-skip" content="true" />

<title>Session 3. Contagion with logistic regression</title>


<!-- highlightjs -->
<style type="text/css">code{white-space: pre;}</style>
<style type="text/css">
  pre:not([class]) {
    background-color: white;
  }
</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>

<!-- taken from https://github.com/rstudio/rmarkdown/blob/67b7f5fc779e4cfdfd0f021d3d7745b6b6e17149/inst/rmd/h/default.html#L296-L362 -->
<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  background: white;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "&#xe258;";
  border: none;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<script>
$(document).ready(function () {
  window.buildTabsets("section-TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open')
  });
});
</script>
<!-- end tabsets -->



</head>

<body>



<div class="pageContent band">
<div class="bandContent page">

<div class="topics">

<!-- Define programming tip style -->
<style>
.tip {
  background-color: #f5f5f5;
}
</style>
<!-- Define question style -->
<style>
.question {
  color: #5A9DDB;
}
</style>
<div id="section-game-app-adoption-yes-or-no" class="section level2">
<h2>Game app adoption: Yes or No?</h2>
<p>In Sessions 1 and 2 we tried to predict pupils’ voice loudness from the loudness in their network during a break. Do pupils adjust their voice loudness to the loudness of their current conversation partners, their current playmates, or other pupils on the playground?</p>
<p>In the current session, we want to predict network effects on the adoption of a new game app. Let us call this <i class="question">contagion</i> because it resembles adopting a disease (becoming infected) from contacts with infected people.</p>
<p><img src="Contagion_files/figure-html/unnamed-chunk-1-1.png" width="624" /></p>
<p>This figure summarizes our diffusion data:</p>
<ul>
<li>Each pupil (horizontal axis) may adopt the new game app in between breaks (parental approval is required);</li>
<li>Once adopted (red dots), a pupil is no longer ‘at risk’ to adopt (no data for later breaks);</li>
<li>Adoption may be triggered because friends have previously adopted the game app (grey lines);</li>
<li>Adoption may be triggered by playing with peers who are using the game app (exposure): dot size shows the number of minutes that a pupil played with peers using the game app during the previous break.</li>
</ul>
<div class="question">
<p>Exercises</p>
<ol style="list-style-type: decimal">
<li>What may explain that Omar, Lauren, and Cambrie have adopted the game app in the second break (between the first and second break)?</li>
<li>Why may Derek have adopted the game app before the third break?</li>
<li>Is it surprising that Z’Reya has not yet adopted the game app in the tenth break?</li>
</ol>
</div>
</div>
<div id="section-logistic-regression" class="section level2">
<h2>Logistic regression</h2>
<p>We want to predict the presence versus absence of a feature (having the new game app) instead of a numerical score like pupil loudness. This requires a different type of regression analysis: <i class="question">logistic regression</i>.</p>
<p>Unfortunately, logistic regression is a bit more complicated than ordinary regression. But it pays off to understand the basics because statistical models of network change (Session 6) are based on models similar to logistic regression.</p>
<div id="section-data-for-logistic-regression" class="section level3">
<h3>Data for logistic regression</h3>
<p>The data relevant to our analyses looks like this (press the little black triangle at the top right to see more variables if not all variables are shown):</p>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["ID"],"name":[1],"type":["dbl"],"align":["right"]},{"label":["label"],"name":[2],"type":["chr"],"align":["left"]},{"label":["sex"],"name":[3],"type":["dbl"],"align":["right"]},{"label":["breakID"],"name":[4],"type":["dbl"],"align":["right"]},{"label":["breakAdopt"],"name":[5],"type":["dbl"],"align":["right"]},{"label":["adoption"],"name":[6],"type":["dbl"],"align":["right"]},{"label":["exposure"],"name":[7],"type":["dbl"],"align":["right"]},{"label":["cum_friends_adopted"],"name":[8],"type":["dbl"],"align":["right"]}],"data":[{"1":"1","2":"Hunter","3":"0","4":"1","5":"3","6":"0","7":"0.000000","8":"0"},{"1":"1","2":"Hunter","3":"0","4":"2","5":"3","6":"0","7":"4.394541","8":"0"},{"1":"1","2":"Hunter","3":"0","4":"3","5":"3","6":"1","7":"2.346154","8":"1"},{"1":"2","2":"Charles","3":"0","4":"1","5":"3","6":"0","7":"0.000000","8":"0"},{"1":"2","2":"Charles","3":"0","4":"2","5":"3","6":"0","7":"20.881111","8":"0"},{"1":"2","2":"Charles","3":"0","4":"3","5":"3","6":"1","7":"1.384615","8":"0"},{"1":"3","2":"Jessica","3":"1","4":"1","5":"4","6":"0","7":"0.000000","8":"0"},{"1":"3","2":"Jessica","3":"1","4":"2","5":"4","6":"0","7":"33.008820","8":"0"},{"1":"3","2":"Jessica","3":"1","4":"3","5":"4","6":"0","7":"7.307692","8":"0"},{"1":"3","2":"Jessica","3":"1","4":"4","5":"4","6":"1","7":"5.500000","8":"1"},{"1":"4","2":"Judith","3":"1","4":"1","5":"4","6":"0","7":"0.000000","8":"0"},{"1":"4","2":"Judith","3":"1","4":"2","5":"4","6":"0","7":"19.727551","8":"0"},{"1":"4","2":"Judith","3":"1","4":"3","5":"4","6":"0","7":"7.307692","8":"1"},{"1":"4","2":"Judith","3":"1","4":"4","5":"4","6":"1","7":"29.807692","8":"1"},{"1":"5","2":"Omar","3":"0","4":"1","5":"2","6":"0","7":"0.000000","8":"0"},{"1":"5","2":"Omar","3":"0","4":"2","5":"2","6":"1","7":"50.314629","8":"0"},{"1":"6","2":"Z'Reya","3":"1","4":"1","5":"NA","6":"0","7":"0.000000","8":"0"},{"1":"6","2":"Z'Reya","3":"1","4":"2","5":"NA","6":"0","7":"39.980673","8":"0"},{"1":"6","2":"Z'Reya","3":"1","4":"3","5":"NA","6":"0","7":"7.307692","8":"1"},{"1":"6","2":"Z'Reya","3":"1","4":"4","5":"NA","6":"0","7":"6.730769","8":"2"},{"1":"6","2":"Z'Reya","3":"1","4":"5","5":"NA","6":"0","7":"85.423077","8":"6"},{"1":"6","2":"Z'Reya","3":"1","4":"6","5":"NA","6":"0","7":"0.000000","8":"6"},{"1":"6","2":"Z'Reya","3":"1","4":"7","5":"NA","6":"0","7":"0.000000","8":"6"},{"1":"6","2":"Z'Reya","3":"1","4":"8","5":"NA","6":"0","7":"33.000000","8":"6"},{"1":"6","2":"Z'Reya","3":"1","4":"9","5":"NA","6":"0","7":"0.000000","8":"7"},{"1":"6","2":"Z'Reya","3":"1","4":"10","5":"NA","6":"0","7":"64.269231","8":"7"},{"1":"7","2":"Cambrie","3":"1","4":"1","5":"2","6":"0","7":"0.000000","8":"0"},{"1":"7","2":"Cambrie","3":"1","4":"2","5":"2","6":"1","7":"38.699202","8":"0"},{"1":"8","2":"Derek","3":"0","4":"1","5":"3","6":"0","7":"0.000000","8":"0"},{"1":"8","2":"Derek","3":"0","4":"2","5":"3","6":"0","7":"0.000000","8":"1"},{"1":"8","2":"Derek","3":"0","4":"3","5":"3","6":"1","7":"0.000000","8":"2"},{"1":"9","2":"Zameel","3":"0","4":"1","5":"3","6":"0","7":"0.000000","8":"0"},{"1":"9","2":"Zameel","3":"0","4":"2","5":"3","6":"0","7":"5.333135","8":"0"},{"1":"9","2":"Zameel","3":"0","4":"3","5":"3","6":"1","7":"0.000000","8":"0"},{"1":"10","2":"Maverick","3":"0","4":"1","5":"3","6":"0","7":"0.000000","8":"0"},{"1":"10","2":"Maverick","3":"0","4":"2","5":"3","6":"0","7":"1.070391","8":"0"},{"1":"10","2":"Maverick","3":"0","4":"3","5":"3","6":"1","7":"25.038462","8":"1"},{"1":"11","2":"Carla","3":"1","4":"1","5":"8","6":"0","7":"0.000000","8":"0"},{"1":"11","2":"Carla","3":"1","4":"2","5":"8","6":"0","7":"26.234864","8":"0"},{"1":"11","2":"Carla","3":"1","4":"3","5":"8","6":"0","7":"0.000000","8":"0"},{"1":"11","2":"Carla","3":"1","4":"4","5":"8","6":"0","7":"21.230769","8":"1"},{"1":"11","2":"Carla","3":"1","4":"5","5":"8","6":"0","7":"41.038462","8":"3"},{"1":"11","2":"Carla","3":"1","4":"6","5":"8","6":"0","7":"6.961538","8":"3"},{"1":"11","2":"Carla","3":"1","4":"7","5":"8","6":"0","7":"25.884615","8":"3"},{"1":"11","2":"Carla","3":"1","4":"8","5":"8","6":"1","7":"0.000000","8":"3"},{"1":"12","2":"Dakota","3":"0","4":"1","5":"3","6":"0","7":"0.000000","8":"0"},{"1":"12","2":"Dakota","3":"0","4":"2","5":"3","6":"0","7":"1.478065","8":"0"},{"1":"12","2":"Dakota","3":"0","4":"3","5":"3","6":"1","7":"0.000000","8":"2"},{"1":"13","2":"Lauren","3":"1","4":"1","5":"2","6":"0","7":"0.000000","8":"0"},{"1":"13","2":"Lauren","3":"1","4":"2","5":"2","6":"1","7":"58.835659","8":"0"},{"1":"14","2":"Madison","3":"1","4":"1","5":"4","6":"0","7":"0.000000","8":"0"},{"1":"14","2":"Madison","3":"1","4":"2","5":"4","6":"0","7":"29.411834","8":"0"},{"1":"14","2":"Madison","3":"1","4":"3","5":"4","6":"0","7":"0.000000","8":"1"},{"1":"14","2":"Madison","3":"1","4":"4","5":"4","6":"1","7":"11.192308","8":"1"},{"1":"15","2":"Shnika","3":"1","4":"1","5":"4","6":"0","7":"0.000000","8":"0"},{"1":"15","2":"Shnika","3":"1","4":"2","5":"4","6":"0","7":"28.756221","8":"0"},{"1":"15","2":"Shnika","3":"1","4":"3","5":"4","6":"0","7":"6.230769","8":"1"},{"1":"15","2":"Shnika","3":"1","4":"4","5":"4","6":"1","7":"0.000000","8":"1"},{"1":"16","2":"Angelica","3":"1","4":"1","5":"4","6":"0","7":"0.000000","8":"0"},{"1":"16","2":"Angelica","3":"1","4":"2","5":"4","6":"0","7":"11.228336","8":"0"},{"1":"16","2":"Angelica","3":"1","4":"3","5":"4","6":"0","7":"7.307692","8":"0"},{"1":"16","2":"Angelica","3":"1","4":"4","5":"4","6":"1","7":"28.576923","8":"0"},{"1":"17","2":"Desiree","3":"1","4":"1","5":"8","6":"0","7":"0.000000","8":"0"},{"1":"17","2":"Desiree","3":"1","4":"2","5":"8","6":"0","7":"27.796784","8":"0"},{"1":"17","2":"Desiree","3":"1","4":"3","5":"8","6":"0","7":"0.000000","8":"0"},{"1":"17","2":"Desiree","3":"1","4":"4","5":"8","6":"0","7":"2.384615","8":"0"},{"1":"17","2":"Desiree","3":"1","4":"5","5":"8","6":"0","7":"47.807692","8":"3"},{"1":"17","2":"Desiree","3":"1","4":"6","5":"8","6":"0","7":"0.000000","8":"3"},{"1":"17","2":"Desiree","3":"1","4":"7","5":"8","6":"0","7":"14.730769","8":"3"},{"1":"17","2":"Desiree","3":"1","4":"8","5":"8","6":"1","7":"21.846154","8":"3"},{"1":"18","2":"Trevon","3":"0","4":"1","5":"1","6":"1","7":"0.000000","8":"0"},{"1":"19","2":"Trei","3":"0","4":"1","5":"3","6":"0","7":"0.000000","8":"0"},{"1":"19","2":"Trei","3":"0","4":"2","5":"3","6":"0","7":"16.007325","8":"1"},{"1":"19","2":"Trei","3":"0","4":"3","5":"3","6":"1","7":"0.000000","8":"1"},{"1":"20","2":"Lily","3":"1","4":"1","5":"4","6":"0","7":"0.000000","8":"0"},{"1":"20","2":"Lily","3":"1","4":"2","5":"4","6":"0","7":"5.356009","8":"0"},{"1":"20","2":"Lily","3":"1","4":"3","5":"4","6":"0","7":"32.692308","8":"1"},{"1":"20","2":"Lily","3":"1","4":"4","5":"4","6":"1","7":"22.346154","8":"1"},{"1":"21","2":"Sarah","3":"1","4":"1","5":"4","6":"0","7":"0.000000","8":"0"},{"1":"21","2":"Sarah","3":"1","4":"2","5":"4","6":"0","7":"24.740845","8":"0"},{"1":"21","2":"Sarah","3":"1","4":"3","5":"4","6":"0","7":"0.000000","8":"0"},{"1":"21","2":"Sarah","3":"1","4":"4","5":"4","6":"1","7":"19.538462","8":"2"},{"1":"22","2":"Truyen","3":"0","4":"1","5":"3","6":"0","7":"0.000000","8":"0"},{"1":"22","2":"Truyen","3":"0","4":"2","5":"3","6":"0","7":"12.322060","8":"0"},{"1":"22","2":"Truyen","3":"0","4":"3","5":"3","6":"1","7":"16.692308","8":"1"},{"1":"23","2":"Sameer","3":"0","4":"1","5":"3","6":"0","7":"0.000000","8":"0"},{"1":"23","2":"Sameer","3":"0","4":"2","5":"3","6":"0","7":"0.000000","8":"0"},{"1":"23","2":"Sameer","3":"0","4":"3","5":"3","6":"1","7":"0.000000","8":"0"},{"1":"24","2":"Jaimie","3":"1","4":"1","5":"4","6":"0","7":"0.000000","8":"0"},{"1":"24","2":"Jaimie","3":"1","4":"2","5":"4","6":"0","7":"2.861946","8":"0"},{"1":"24","2":"Jaimie","3":"1","4":"3","5":"4","6":"0","7":"0.000000","8":"0"},{"1":"24","2":"Jaimie","3":"1","4":"4","5":"4","6":"1","7":"0.000000","8":"0"},{"1":"25","2":"Hailey","3":"1","4":"1","5":"4","6":"0","7":"0.000000","8":"0"},{"1":"25","2":"Hailey","3":"1","4":"2","5":"4","6":"0","7":"6.649292","8":"0"},{"1":"25","2":"Hailey","3":"1","4":"3","5":"4","6":"0","7":"0.000000","8":"1"},{"1":"25","2":"Hailey","3":"1","4":"4","5":"4","6":"1","7":"1.538462","8":"1"},{"1":"26","2":"Terry","3":"0","4":"1","5":"3","6":"0","7":"0.000000","8":"0"},{"1":"26","2":"Terry","3":"0","4":"2","5":"3","6":"0","7":"24.263227","8":"1"},{"1":"26","2":"Terry","3":"0","4":"3","5":"3","6":"1","7":"15.000000","8":"1"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
<p>Variables:</p>
<ul>
<li><em>ID</em>: pupil ID;</li>
<li><em>label</em>: pupil’s first name;</li>
<li><em>sex</em>: pupil’s sex (<code>0</code> = boy, <code>1</code> = girl);</li>
<li><em>breakID</em>: sequential number of the (school) break;</li>
<li><em>breakAdopt</em>: number of break before which the pupil adopted the game app (helper variable);</li>
<li><em>adoption</em>: the pupil adopted (<code>1</code>) or did not adopt (<code>0</code>) the game app before this break;</li>
<li><em>exposure</em>: the minutes this pupil played with a pupil who was using the game app in the preceding break (summed over all of the pupil’s playmates in this break);</li>
<li><em>cum_friends_adopted</em>: total (cumulative) number of the pupil’s friends who adopted the game app before the previous break.</li>
</ul>
<p>Note that we have multiple observations (rows) for pupils. In every break, a pupil was <i class="question">at risk</i> of having adopted the game app. The <code>adoption</code> variable registers whether (<code>1</code>) or not (<code>0</code>) the pupil adopted the game app.</p>
<p>For example, Hunter did not adopt the game app before the first or second break. He adopted it between the second and third break.</p>
<p>Having adopted the game app before the third break, Hunter is no longer at risk of adopting it. From this point on, he is irrelevant to the question that we want to answer, so there are no observations (rows) for Break 5 and later for him.</p>
<div class="tip">
<p>With the observations (rows) in our data set, we determine who is (at what time) relevant to answering our research question.</p>
</div>
<div class="question">
<p>Exercises</p>
<ol style="list-style-type: decimal">
<li><p>If we would want to predict when a pupil starts playing with the game app, what would we do with pupils who haven’t installed the app yet?</p></li>
<li><p>If we would want to predict how long a pupil is playing with the game app, for which situations would we create rows in our data set?</p></li>
</ol>
</div>
</div>
<div id="section-logistic-regression-in-r" class="section level3">
<h3>Logistic regression in R</h3>
<p>A logistic regression can be executed with the <code>glm()</code> function, using:</p>
<ul>
<li>A formula specifying the dependent/outcome variable and the independent predictor variables (just like ordinary regression);</li>
<li>The name of the data set (just like ordinary regression);</li>
<li>And a link function: see the <code>family</code> part of the command below (new!).</li>
</ul>
<div class="tutorial-exercise" data-label="logreg1" data-caption="Code" data-completion="1" data-diagnostics="1" data-startover="1" data-lines="0">
<pre class="text"><code># Predict adoption (0/1) from exposure, number of friends who adopted, and pupil&#39;s sex.
model_diffusion &lt;- glm(
  adoption ~ exposure + cum_friends_adopted + sex, #formula
  data = diffusion_data,                           #data
  family = binomial(link = &quot;logit&quot;)                #type of regression model: logistic
)
# Inspect the results.
summary(model_diffusion)</code></pre>
<pre><code>
Call:
glm(formula = adoption ~ exposure + cum_friends_adopted + sex, 
    family = binomial(link = &quot;logit&quot;), data = diffusion_data)

Deviance Residuals: 
    Min       1Q   Median       3Q      Max  
-1.1715  -0.8220  -0.5868   0.2355   1.9413  

Coefficients:
                      Estimate Std. Error z value Pr(&gt;|z|)  
(Intercept)         -0.6831894  0.3754206  -1.820   0.0688 .
exposure             0.0199328  0.0149120   1.337   0.1813  
cum_friends_adopted  0.0004805  0.1626086   0.003   0.9976  
sex                 -1.0364557  0.5135671  -2.018   0.0436 *
---
Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1

(Dispersion parameter for binomial family taken to be 1)

    Null deviance: 111.89  on 98  degrees of freedom
Residual deviance: 106.75  on 95  degrees of freedom
AIC: 114.75

Number of Fisher Scoring iterations: 4</code></pre>
<script type="application/json" data-opts-chunk="1">{"fig.width":6.5,"fig.height":4,"fig.retina":2,"fig.align":"default","fig.keep":"high","fig.show":"asis","out.width":624,"warning":false,"error":false,"message":false,"exercise.df_print":"paged","exercise.checker":"NULL"}</script>
</div>
<p>The coefficients tell us that exposure (0.020) and number of friends who adopted previously(0.0005), have a positive effect on adoption. Pupils with more exposure to gaming playmates and/or more friends who have adopted tend to adopt more (quickly).</p>
<p>The effect of sex on adoption is negative (-1.036), so girls (coded <code>1</code>) on average adopt less (quickly) than boys (coded <code>0</code>).</p>
<p>But what do these numbers actually mean?</p>
</div>
<div id="section-interpreting-results" class="section level3">
<h3>Interpreting results</h3>
<p>In logistic regression, we do <i class="question">not</i> predict that a pupil adopts (<code>1</code> for yes) or not (<code>0</code>).</p>
<p>Instead, we predict something quite technical, namely, the log odds (also called: <i class="question">logit</i>) of game adoption over no game adoption.</p>
<p>For the lovers of mathematical notation, this is what we predict:</p>
<p><span class="math display">\[log\left(\frac{Pr\left(y = 1\right)}{Pr\left(y=0\right)}\right)\]</span></p>
<p>The odds of adopting the new game app is the probability (<span class="math inline">\(Pr()\)</span>) of adoption (the dependent variable <span class="math inline">\(y\)</span> equals 1) divided by the probability of not adopting (the dependent variable <span class="math inline">\(y\)</span> equals 0).</p>
<p>The (natural) logarithm (<span class="math inline">\(log()\)</span>) of the odds is estimated. So the estimated effect of sex (-1.036) means that the log odds of adoption are on average 1.036 lower for girls than for boys.</p>
<p>What does this mean? Is it much or little?</p>
<p>Being ordinary people, we cannot make sense of such an interpretation. We prefer to compare the adoption probability for girls and boys.</p>
</div>
<div id="section-section" class="section level3">
<h3></h3>
<p>We can use the <code>predict()</code> function to get predicted probabilities.</p>
<div class="tutorial-exercise" data-label="predict" data-caption="Code" data-completion="1" data-diagnostics="1" data-startover="1" data-lines="16">
<pre class="text"><code># Estimate the logistic regression model.
model_diffusion &lt;- glm(
  adoption ~ exposure + cum_friends_adopted + sex,
  data = diffusion_data,
  family = binomial(link = &quot;logit&quot;)
)
# Get predicted adoption probabilities for boys and girls. 
predict(
  model_diffusion, #the stored logistic regression results
  data.frame( #enter the variables and values for which you want predictions:
    sex = c(0, 1), #zero for boys, one for girls
    exposure = c(0, 0), #both the boy and girl having 0 exposure...
    cum_friends_adopted = c(0, 0) #... and 0 friends who already adopted
  ),
  type = &quot;response&quot; #gives probabilities not log odds
)</code></pre>
<pre><code>        1         2 
0.3355498 0.1519169 </code></pre>
<script type="application/json" data-opts-chunk="1">{"fig.width":6.5,"fig.height":4,"fig.retina":2,"fig.align":"default","fig.keep":"high","fig.show":"asis","out.width":624,"warning":false,"error":false,"message":false,"exercise.df_print":"paged","exercise.checker":"NULL"}</script>
</div>
<p>For boys and girls without exposure and friends who adopted previously, the probability to adopt the game app are 0.34 and 0.15, respectively. Boys are more than twice as likely to adopt the game app than girls. That sounds like a substantial difference.</p>
<div class="question">
<p>Exercises</p>
<ol style="list-style-type: decimal">
<li><p>Modify the code to predict adoption probabilities for boys and girls who score 50 on exposure (a high exposure score that appears among both boys and girls) but who do not have friends who adopted the game app previously. What happens to the probabilities?</p></li>
<li><p>Modify the code to predict adoption probabilities for boys and girls who have 5 friends who adopted the game app previously but who score 0 on exposure. What happens to the probabilities? What does it tell you about the effect of having adopters among your friends on your adoption probability?</p></li>
<li><p>Modify the code to predict adoption probabilities for a boy who has no (zero) exposure and a boy who scores 50 on exposure. Both boys do not have friends who adopted the game app previously. What does the result tell you about the effect of exposure to gaming playmates on adoption probability (for boys)?</p></li>
</ol>
</div>
</div>
<div id="section-not-multilevel" class="section level3">
<h3>Not multilevel?</h3>
<p>After having completed Session 2, you may think that we need a multilevel model because we have repeated measurements for pupils: one measurement (row) for each break in which they are at risk of adopting the game app.</p>
<p>Good thinking!</p>
<p>However, this is an exception. Let us have another look at Hunter’s data.</p>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["ID"],"name":[1],"type":["dbl"],"align":["right"]},{"label":["label"],"name":[2],"type":["chr"],"align":["left"]},{"label":["sex"],"name":[3],"type":["dbl"],"align":["right"]},{"label":["breakID"],"name":[4],"type":["dbl"],"align":["right"]},{"label":["breakAdopt"],"name":[5],"type":["dbl"],"align":["right"]},{"label":["adoption"],"name":[6],"type":["dbl"],"align":["right"]},{"label":["exposure"],"name":[7],"type":["dbl"],"align":["right"]},{"label":["cum_friends_adopted"],"name":[8],"type":["dbl"],"align":["right"]}],"data":[{"1":"1","2":"Hunter","3":"0","4":"1","5":"3","6":"0","7":"0.000000","8":"0"},{"1":"1","2":"Hunter","3":"0","4":"2","5":"3","6":"0","7":"4.394541","8":"0"},{"1":"1","2":"Hunter","3":"0","4":"3","5":"3","6":"1","7":"2.346154","8":"1"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
<p>We have three rows for Hunter. The dependent/outcome variable is twice <code>0</code> and one time <code>1</code>. If we calculate the average of these three numbers, we get <code>0.333</code> (one third). This is the probability that Hunter adopts.</p>
<p>With a logistic regression model, we predict probabilities. So the three rows for Hunter give us the probability that we need. No need to correct for dependencies within the dependent/outcome variable.</p>
<p>(This is a simplified explanation but it touches the main point.)</p>
</div>
</div>
<div id="section-practice-some-more" class="section level2">
<h2>Practice some more</h2>
<div class="question">
<p>Exercises</p>
<p>The data set <code>diffusion_data</code> contains a few more variables that you can use to predict the probability to adopt the game app:</p>
<ul>
<li><em>adhd</em>: Pupil’s ADHD score level.</li>
<li><em>friends_adopted</em>: The number of friends who adopted the game app in the previous break (instead of all friends who adopted previously).</li>
</ul>
<ol style="list-style-type: decimal">
<li>Adjust the below code to predict game app adoption from different combinations of (old and new) predictors. Tip: Every predictor must be included in the <code>predict()</code> command.</li>
</ol>
<div class="tutorial-exercise" data-label="logregextra" data-caption="Code" data-completion="1" data-diagnostics="1" data-startover="1" data-lines="18">
<pre class="text"><code># Predict adoption (0/1) from exposure, number of friends who adopted, and pupil&#39;s sex.
model_diffusion &lt;- glm(
  adoption ~ exposure + cum_friends_adopted + sex, #formula
  data = diffusion_data,                           #data
  family = binomial(link = &quot;logit&quot;)                #type of regression model: logistic
)
# Inspect the results.
summary(model_diffusion)
# Get predicted adoption probabilities for boys and girls. 
predict(
  model_diffusion, #the stored logistic regression results
  data.frame( #enter the variables and values for which you want predictions:
    sex = c(0, 1), #zero for boys, one for girls
    exposure = c(0, 0), #both the boy and girl having 0 exposure...
    cum_friends_adopted = c(5, 5) #... and 0 friends who already adopted
  ),
  type = &quot;response&quot; #gives probabilities not log odds
)</code></pre>
<script type="application/json" data-opts-chunk="1">{"fig.width":6.5,"fig.height":4,"fig.retina":2,"fig.align":"default","fig.keep":"high","fig.show":"asis","out.width":624,"warning":false,"error":false,"message":false,"exercise.df_print":"paged","exercise.checker":"NULL"}</script>
</div>
<ol start="2" style="list-style-type: decimal">
<li>Use the <code>confint()</code> function to get the confidence intervals of the effects in the models that you estimate under Exercise 1. When are we sure about the direction (positive/negative) of the effect and when are we not?</li>
</ol>
</div>
</div>
<div id="section-conclusion" class="section level2">
<h2>Conclusion</h2>
<p>We learned the basics of predicting presence versus absence of a characteristic among the pupils in our study.</p>
<p>This characteristic was adopting (versus not adopting) a new game app. It could also have been the adoption of a cultural behavior, acquiring a disease, or making a positive versus a negative statement (to be discussed in Session 5).</p>
<p>Perhaps surprisingly, it can also be the presence versus absence of a network tie, like friendship, being playmates, choosing a conversation partner, and so on. In other words, we can predict network structure with this kind of model (Session 6).</p>
<p>Logistic regression is like ordinary regression except that:</p>
<ul>
<li>We cannot directly interpret the effect sizes; we must change them into probabilities first, for example, adoption probability for boys versus adoption probability for girls;</li>
<li>The probabilities change for different values of other independent/predictor variables in our model, for example, the adoption probabilities for boys and girls are different for pupils with high exposure than for pupils with low exposure.</li>
</ul>
</div>
<div id="section-further-reading" class="section level2">
<h2>Further Reading</h2>
<ul>
<li><p>Centola, D. (2018). <em>How Behavior Spreads: The Science of Complex Contagions</em>. Princeton University Press. Presents an influential perspective on (analyzing) contagion through networks.</p></li>
<li><ul>
<li>Miles, J., &amp; Shevlin, M. (2001). <em>Applying regression &amp; correlation: A guide for students and researchers</em>. SAGE. Also contains a chapter offering an introduction to logistic regression.</li>
</ul></li>
<li><p>For thorough understanding of logistic regression, study: Hosmer, D. W., Lemeshow, S., &amp; Sturdivant, R. X. (2013). <em>Applied Logistic Regression</em> (3rd ed. or later). Wiley.</p></li>
</ul>
</div>
<div id="section-appendix-data-preparation" class="section level2">
<h2>Appendix: Data preparation</h2>
<p>As always, it is not easy to calculating the exposure variables (number of friends who have adopted the game app; time with playmates using the game app). In this section, you can see how that can be done.</p>
<p>This is an advanced topic that you should probably only study if you start working with your own data.</p>
<div class="tutorial-exercise" data-label="calculate" data-caption="Code" data-completion="1" data-diagnostics="1" data-startover="1" data-lines="0">
<pre class="text"><code>#Create the data for analyzing gameapp adoption.

#Create helper table of adoption times: first break in which pupil plays with
# app on their phone.
# Variable gameapp in pupils_dyn: if 1, pupil played with own game app
adopters &lt;- pupils_dyn %&gt;%
  #select gameapp use observations
  filter(gameapp == 1) %&gt;%
  #select earliest (minimum) break with game use as adoption break for each pupil
  group_by(ID) %&gt;%
  summarise(breakAdopt = min(breakID))

#Create helper table with exposure to gaming peers as time (in minutes) spent
# with a gaming playmate in the preceding break (can be over 30 minutes if pupil
# is exposed to more than one gamer at a time).
exposure &lt;- pairs_dyn  %&gt;%
  #select the playmate ties in all breaks
  filter(dyntie == &quot;Playmate&quot;) %&gt;%
  #add information about pupil&#39;s activities (including playing the game) from
  # pupils_dyn
  # first, ignore the actual playing times and add all activities from pupils_dyn
  # within a break
  left_join(
    pupils_dyn,
    by = c(&quot;to&quot; = &quot;ID&quot;, &quot;breakID&quot; = &quot;breakID&quot;)
  ) %&gt;%
  # second, only keep the activities that overlap in time with playing together
  # Note: the onset and terminus of playing together are now &#39;onset.x&#39; and
  # &#39;terminus.x&#39;, whereas the onset and terminus of the pupil&#39;s activities are
  # now &#39;onset.y&#39; and &#39;terminus.y&#39;
  filter(
    onset.x &lt; terminus.y &amp; #playing must start before end of pupil&#39;s activity
      terminus.x &gt; onset.y #and playing must end after start of pupil&#39;s activity
  ) %&gt;%
  # now we have all instances in which playing together and playmate&#39;s gaming
  # overlap
  #calculate the time overlap
  mutate(duration =
           #smallest end time minus
           ifelse(terminus.x &lt; terminus.y, terminus.x, terminus.y) -
           #largest starting time
           ifelse(onset.x &gt; onset.y, onset.x, onset.y)) %&gt;%
  #sum exposure time for each pupil per break
  group_by(from, breakID) %&gt;%
  summarise(exposure = sum(duration, na.rm = T), .groups=&quot;drop&quot;) %&gt;%
  #add 1 to breakID: exposure in break 1 must predict adoption in break 2
  mutate(breakID = breakID + 1)

#Create helper table with number of friends who previously adopted the gaming
# app for each break.
friends_adopted &lt;- pairs_const %&gt;%
  #select all friendships
  filter(friend == 1) %&gt;%
  #add the friend&#39;s (&#39;to&#39;) adoption time (as break number)
  left_join(adopters, by = c(&quot;to&quot; = &quot;ID&quot;)) %&gt;%
  #get rid of friends who never adopted
  filter(!is.na(breakAdopt)) %&gt;%
  #calculate (per pupil and break) the number of friends who have adopted per
  # pupil per break
  group_by(from, breakAdopt) %&gt;%
  summarise(friends_adopted = n(), .groups = &quot;drop&quot;) %&gt;%
  #add 1 to breakAdopt: friend&#39;s adoption in break 1 must predict adoption in
  #break 2
  mutate(breakAdopt = breakAdopt + 1)

#Create the data to predict game app adoption from exposure and other variables
diffusion_data &lt;- pupils_const %&gt;%
  #create a case for every pupil-break combination
  full_join(
    data_frame(breakID = 1:10), #new data frame: 1 variable, 10 observations, values 1 to 10
    by = character()
  ) %&gt;%
  #add adoption times
  left_join(adopters, by = &quot;ID&quot;) %&gt;%
  #remove observations for breaks after the adoption break (pupil no longer at risk to adopt)
  filter(breakID &lt;= breakAdopt | is.na(breakAdopt)) %&gt;%
  #create dependent variable: 0 for not yet adopted, 1 for adopted
  mutate(adoption = case_when(
    breakID == breakAdopt ~ 1,
    TRUE ~ 0)
  ) %&gt;%
  #add exposure score (in preceding break) to pupils (if any)
  left_join(exposure, by = c(&quot;ID&quot; = &quot;from&quot;, &quot;breakID&quot; = &quot;breakID&quot;)) %&gt;%
  #set missing exposure values to zero: no exposure
  mutate(exposure = ifelse(is.na(exposure), 0, exposure)) %&gt;%
  #add number of friends who adopted previously
  left_join(friends_adopted, by = c(&quot;ID&quot; = &quot;from&quot;, &quot;breakID&quot; = &quot;breakAdopt&quot;)) %&gt;%
  #replace missing number of friends who adopted by zero
  mutate(friends_adopted = ifelse(is.na(friends_adopted), 0, friends_adopted)) %&gt;%
  # Step 2: in the data (sorted on pupil and break) replace values by the
  # highest preceding or current value
  arrange(ID, breakID) %&gt;%
  group_by(ID) %&gt;%
  mutate(cum_friends_adopted = cumsum(friends_adopted)) %&gt;%
  ungroup() %&gt;%
  # get rid of superfluous variables
  select(-present, -onset, -terminus)</code></pre>
<script type="application/json" data-opts-chunk="1">{"fig.width":6.5,"fig.height":4,"fig.retina":2,"fig.align":"default","fig.keep":"high","fig.show":"asis","out.width":624,"warning":false,"error":false,"message":false,"exercise.df_print":"paged","exercise.checker":"NULL"}</script>
</div>

<script type="application/shiny-prerendered" data-context="server-start">
library(learnr)
library(tidyverse)
library(knitr)
library(RColorBrewer) #for colour palettes

knitr::opts_chunk$set(echo = FALSE, warning = FALSE, message = FALSE)

# Standard colors to use
brewercolors <- brewer.pal( 5, name =  "Spectral")
brewercolors[3] <- "#ffff00"
names(brewercolors) <- c("Red", "Orange", "Yellow", "Green", "Blue")
#usage: colour = brewercolors["Blue"]

#load basic data
pupils_const <- NikitaRocks::pupils_const
pupils_dyn <- NikitaRocks::pupils_dyn
pairs_const <- NikitaRocks::pairs_const
pairs_dyn <- NikitaRocks::pairs_dyn

#load prepared analysis data set
diffusion_data <- NikitaRocks::diffusion_data
</script>
 
<script type="application/shiny-prerendered" data-context="server">
learnr:::register_http_handlers(session, metadata = NULL)
</script>
 
<script type="application/shiny-prerendered" data-context="server">
session$onSessionEnded(function() {
        learnr:::session_stop_event(session)
      })
</script>
 
<script type="application/shiny-prerendered" data-context="server">
`tutorial-exercise-logreg1-result` <- learnr:::setup_exercise_handler(reactive(req(input$`tutorial-exercise-logreg1-code-editor`)), session)
output$`tutorial-exercise-logreg1-output` <- renderUI({
  `tutorial-exercise-logreg1-result`()
})
</script>
 
<script type="application/shiny-prerendered" data-context="server">
`tutorial-exercise-predict-result` <- learnr:::setup_exercise_handler(reactive(req(input$`tutorial-exercise-predict-code-editor`)), session)
output$`tutorial-exercise-predict-output` <- renderUI({
  `tutorial-exercise-predict-result`()
})
</script>
 
<script type="application/shiny-prerendered" data-context="server">
`tutorial-exercise-logregextra-result` <- learnr:::setup_exercise_handler(reactive(req(input$`tutorial-exercise-logregextra-code-editor`)), session)
output$`tutorial-exercise-logregextra-output` <- renderUI({
  `tutorial-exercise-logregextra-result`()
})
</script>
 
<script type="application/shiny-prerendered" data-context="server">
`tutorial-exercise-calculate-result` <- learnr:::setup_exercise_handler(reactive(req(input$`tutorial-exercise-calculate-code-editor`)), session)
output$`tutorial-exercise-calculate-output` <- renderUI({
  `tutorial-exercise-calculate-result`()
})
</script>
 <!--html_preserve-->
<script type="application/shiny-prerendered" data-context="dependencies">
{"type":"list","attributes":{},"value":[{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["header-attrs"]},{"type":"character","attributes":{},"value":["2.5"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["rmd/h/pandoc"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["header-attrs.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["rmarkdown"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["2.5"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["jquery"]},{"type":"character","attributes":{},"value":["1.11.3"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["rmd/h/jquery"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["jquery.min.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["rmarkdown"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["2.5"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["bootstrap"]},{"type":"character","attributes":{},"value":["3.3.5"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["rmd/h/bootstrap"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["viewport"]}},"value":[{"type":"character","attributes":{},"value":["width=device-width, initial-scale=1"]}]},{"type":"character","attributes":{},"value":["js/bootstrap.min.js","shim/html5shiv.min.js","shim/respond.min.js"]},{"type":"character","attributes":{},"value":["css/cerulean.min.css"]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["rmarkdown"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["2.5"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["pagedtable"]},{"type":"character","attributes":{},"value":["1.1"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["rmd/h/pagedtable-1.1"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["js/pagedtable.js"]},{"type":"character","attributes":{},"value":["css/pagedtable.css"]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["rmarkdown"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["2.5"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["highlightjs"]},{"type":"character","attributes":{},"value":["9.12.0"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["rmd/h/highlightjs"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["highlight.js"]},{"type":"character","attributes":{},"value":["textmate.css"]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["rmarkdown"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["2.5"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["tutorial"]},{"type":"character","attributes":{},"value":["0.10.1"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/tutorial"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["tutorial.js"]},{"type":"character","attributes":{},"value":["tutorial.css"]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["learnr"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.10.1"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["tutorial-autocompletion"]},{"type":"character","attributes":{},"value":["0.10.1"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/tutorial"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["tutorial-autocompletion.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["learnr"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.10.1"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["tutorial-diagnostics"]},{"type":"character","attributes":{},"value":["0.10.1"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/tutorial"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["tutorial-diagnostics.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["learnr"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.10.1"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["tutorial-format"]},{"type":"character","attributes":{},"value":["0.10.1"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["rmarkdown/templates/tutorial/resources"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["tutorial-format.js"]},{"type":"character","attributes":{},"value":["tutorial-format.css","rstudio-theme.css"]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["learnr"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.10.1"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["jquery"]},{"type":"character","attributes":{},"value":["1.11.3"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["rmd/h/jquery"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["jquery.min.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["rmarkdown"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["2.5"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["navigation"]},{"type":"character","attributes":{},"value":["1.1"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["rmd/h/navigation-1.1"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["tabsets.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["rmarkdown"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["2.5"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["highlightjs"]},{"type":"character","attributes":{},"value":["9.12.0"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["rmd/h/highlightjs"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["highlight.js"]},{"type":"character","attributes":{},"value":["default.css"]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["rmarkdown"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["2.5"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["anchor-sections"]},{"type":"character","attributes":{},"value":["1.0"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["rmd/h/anchor-sections"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["anchor-sections.js"]},{"type":"character","attributes":{},"value":["anchor-sections.css"]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["rmarkdown"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["2.5"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["jquery"]},{"type":"character","attributes":{},"value":["1.11.3"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["rmd/h/jquery"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["jquery.min.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["rmarkdown"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["2.5"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["font-awesome"]},{"type":"character","attributes":{},"value":["5.1.0"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["rmd/h/fontawesome"]}]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["css/all.css","css/v4-shims.css"]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["rmarkdown"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["2.5"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["bootbox"]},{"type":"character","attributes":{},"value":["4.4.0"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/bootbox"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["bootbox.min.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["learnr"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.10.1"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["idb-keyvalue"]},{"type":"character","attributes":{},"value":["3.2.0"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/idb-keyval"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["idb-keyval-iife-compat.min.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["learnr"]},{"type":"logical","attributes":{},"value":[false]},{"type":"character","attributes":{},"value":["0.10.1"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["tutorial"]},{"type":"character","attributes":{},"value":["0.10.1"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/tutorial"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["tutorial.js"]},{"type":"character","attributes":{},"value":["tutorial.css"]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["learnr"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.10.1"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["tutorial-autocompletion"]},{"type":"character","attributes":{},"value":["0.10.1"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/tutorial"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["tutorial-autocompletion.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["learnr"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.10.1"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["tutorial-diagnostics"]},{"type":"character","attributes":{},"value":["0.10.1"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/tutorial"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["tutorial-diagnostics.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["learnr"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.10.1"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["ace"]},{"type":"character","attributes":{},"value":["1.2.6"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/ace"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["ace.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["learnr"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.10.1"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["clipboardjs"]},{"type":"character","attributes":{},"value":["1.5.15"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/clipboardjs"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["clipboard.min.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["learnr"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.10.1"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["ace"]},{"type":"character","attributes":{},"value":["1.2.6"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/ace"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["ace.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["learnr"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.10.1"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["clipboardjs"]},{"type":"character","attributes":{},"value":["1.5.15"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/clipboardjs"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["clipboard.min.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["learnr"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.10.1"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["ace"]},{"type":"character","attributes":{},"value":["1.2.6"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/ace"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["ace.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["learnr"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.10.1"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["clipboardjs"]},{"type":"character","attributes":{},"value":["1.5.15"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/clipboardjs"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["clipboard.min.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["learnr"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.10.1"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["ace"]},{"type":"character","attributes":{},"value":["1.2.6"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/ace"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["ace.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["learnr"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.10.1"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["clipboardjs"]},{"type":"character","attributes":{},"value":["1.5.15"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/clipboardjs"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["clipboard.min.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["learnr"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.10.1"]}]}]}
</script>
<!--/html_preserve-->
<!--html_preserve-->
<script type="application/shiny-prerendered" data-context="execution_dependencies">
{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["packages"]}},"value":[{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["packages","version"]},"class":{"type":"character","attributes":{},"value":["data.frame"]},"row.names":{"type":"integer","attributes":{},"value":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80]}},"value":[{"type":"character","attributes":{},"value":["assertthat","backports","base","broom","cellranger","cli","colorspace","compiler","crayon","datasets","DBI","dbplyr","digest","dplyr","ellipsis","evaluate","fansi","farver","fastmap","forcats","fs","generics","ggplot2","glue","graphics","grDevices","grid","gtable","haven","hms","htmltools","htmlwidgets","httpuv","httr","jsonlite","knitr","labeling","later","learnr","lifecycle","lubridate","magrittr","markdown","methods","mime","modelr","munsell","NikitaRocks","pillar","pkgconfig","promises","purrr","R6","RColorBrewer","Rcpp","readr","readxl","reprex","rlang","rmarkdown","rprojroot","rstudioapi","rvest","scales","shiny","stats","stringi","stringr","tibble","tidyr","tidyselect","tidyverse","tools","utils","vctrs","withr","xfun","xml2","xtable","yaml"]},{"type":"character","attributes":{},"value":["0.2.1","1.2.0","4.0.3","0.7.2","1.1.0","2.2.0","2.0-0","4.0.3","1.3.4","4.0.3","1.1.0","2.0.0","0.6.27","1.0.2","0.3.1","0.14","0.4.1","2.0.3","1.0.1","0.5.0","1.5.0","0.1.0","3.3.2","1.4.2","4.0.3","4.0.3","4.0.3","0.3.0","2.3.1","0.5.3","0.5.0","1.5.2","1.5.4","1.4.2","1.7.1","1.30","0.4.2","1.1.0.1","0.10.1","0.2.0","1.7.9.2","2.0.1","1.1","4.0.3","0.9","0.1.8","0.5.0","0.1.0","1.4.7","2.0.3","1.1.1","0.3.4","2.5.0","1.1-2","1.0.6","1.4.0","1.3.1","0.3.0","0.4.8","2.5","2.0.2","0.13","0.3.6","1.1.1","1.5.0","4.0.3","1.5.3","1.4.0","3.0.4","1.1.2","1.1.0","1.3.0","4.0.3","4.0.3","0.3.6","2.3.0","0.19","1.3.2","1.8-4","2.2.1"]}]}]}
</script>
<!--/html_preserve-->
</div>

</div> <!-- topics -->

<div class="topicsContainer">
<div class="topicsPositioner">
<div class="band">
<div class="bandContent topicsListContainer">

<!-- begin doc-metadata -->
<div id="doc-metadata">
<h2 class="title toc-ignore" style="display:none;">Session 3. Contagion with logistic regression</h2>
</div>
<!-- end doc-metadata -->

</div> <!-- bandContent.topicsListContainer -->
</div> <!-- band -->
</div> <!-- topicsPositioner -->
</div> <!-- topicsContainer -->


</div> <!-- bandContent page -->
</div> <!-- pageContent band -->




<script>
// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.header').parent('thead').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});
</script>


<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>


</body>

</html>
