<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">

<head>

<meta charset="utf-8">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="pandoc" />



<meta name="progressive" content="true" />
<meta name="allow-skip" content="true" />

<title>Session 6. Predicting tie presence</title>


<!-- highlightjs -->
<style type="text/css">code{white-space: pre;}</style>
<style type="text/css">
  pre:not([class]) {
    background-color: white;
  }
</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>

<!-- taken from https://github.com/rstudio/rmarkdown/blob/67b7f5fc779e4cfdfd0f021d3d7745b6b6e17149/inst/rmd/h/default.html#L296-L362 -->
<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  background: white;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "&#xe258;";
  border: none;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<script>
$(document).ready(function () {
  window.buildTabsets("section-TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open')
  });
});
</script>
<!-- end tabsets -->



</head>

<body>



<div class="pageContent band">
<div class="bandContent page">

<div class="topics">

<!-- Define programming tip style -->
<style>
.tip {
  background-color: #f5f5f5;
}
</style>
<!-- Define question style -->
<style>
.question {
  color: #5A9DDB;
}
</style>
<div id="section-who-will-speak-to-whom" class="section level2">
<h2>Who will speak to whom?</h2>
<p>In the preceding sessions, we have tried to predict a characteristic of a tie, namely, whether a statement from one pupil to another was positive or negative.</p>
<p>we have assumed but not predicted that the ties (statements) exist. In the current session, we try to predict the presence versus absence of ties. Can we predict that a pupil says something to another pupil or starts playing with another pupil at a particular moment?</p>
<p>Basically, we are addressing network change: Can we predict how the structure of a network changes?</p>
<p><img src="TiePresence_files/figure-html/fragment1plot1-1.png" width="50%" /><img src="TiePresence_files/figure-html/fragment1plot1-2.png" width="50%" /></p>
<p>The prediction problem consists of two steps and models:</p>
<ol style="list-style-type: decimal">
<li>Predict who will act: the rate model. Actually, how often or how soon pupils act.</li>
<li>Predict towards whom will be acted: the (receiver) choice model.</li>
</ol>
<p>Note that there is a third step, namely predicting the characteristics of a tie once we know who will send and receive the tie. We discussed this step in Session 5 (predicting tie valence).</p>
</div>
<div id="section-install-the-goldfish-package" class="section level2">
<h2>Install the <code>goldfish</code> package</h2>
<p>We use the <code>goldfish</code> package to estimate models for predicting tie creation.</p>
<div class="tutorial-exercise" data-label="installGoldfish" data-caption="Code" data-completion="1" data-diagnostics="1" data-startover="1" data-lines="0">
<pre class="text"><code># Use this command to install the goldfish package from github.
remotes::install_github(&quot;snlab-ch/goldfish&quot;)
# Note: this requires the remotes package, which should be installed
# automatically when you install the NikitaRocks package.</code></pre>
<script type="application/json" data-opts-chunk="1">{"fig.width":6.5,"fig.height":4,"fig.retina":2,"fig.align":"default","fig.keep":"high","fig.show":"asis","out.width":624,"warning":false,"error":false,"message":false,"exercise.df_print":"paged","exercise.checker":"NULL"}</script>
</div>
<div class="question">
<p>Exercises</p>
<ol style="list-style-type: decimal">
<li><p>Run the above code to install the <code>goldfish</code> package.</p></li>
<li><p>Replace the code by <code>?goldfish</code> and run this (should open new browser window with general info on the package), to check that installation was successful.</p></li>
</ol>
</div>
<p>For installation problems (particularly on Mac OSX), consult <a href="https://github.com/snlab-ch/goldfish" class="uri">https://github.com/snlab-ch/goldfish</a> (<a href="https://github.com/snlab-ch/goldfish#installing-openmp-on-mac-osx" class="uri">https://github.com/snlab-ch/goldfish#installing-openmp-on-mac-osx</a>).</p>
</div>
<div id="section-build-in-types-of-predictors" class="section level2">
<h2>Build-in types of predictors</h2>
<p>The <code>goldfish</code> package automatically creates the predictors for sender, receiver, (dis)similarity, other tie, same tie, and local network context effects that you chose. That saves us a lot of work!</p>
<p>Available effects:</p>
<table>
<colgroup>
<col width="19%" />
<col width="25%" />
<col width="35%" />
<col width="19%" />
</colgroup>
<thead>
<tr class="header">
<th align="left">Effect</th>
<th align="left">Function</th>
<th align="left">Description</th>
<th align="center">Model</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">Sender</td>
<td align="left">ego(attribute)</td>
<td align="left">tendency of actors to be more active when they score high on the attribute</td>
<td align="center">rate</td>
</tr>
<tr class="even">
<td align="left">Receiver</td>
<td align="left">alter(attribute)</td>
<td align="left">tendency to chose alter when alter has a high score on the attribute</td>
<td align="center">choice</td>
</tr>
<tr class="odd">
<td align="left"><em>(Dis)similarity</em>:</td>
<td align="left"></td>
<td align="left"></td>
<td align="center"></td>
</tr>
<tr class="even">
<td align="left">- exact similarity</td>
<td align="left">same(attribute)</td>
<td align="left">tendency of an event happen if sender and receiver have the same attribute (homophily)</td>
<td align="center">choice (one-mode only)</td>
</tr>
<tr class="odd">
<td align="left">- approximate similarity</td>
<td align="left">sim(attribute)</td>
<td align="left">tendency of an event happen if sender and receiver have similar attribute values (homophily)</td>
<td align="center">choice (one-mode only)</td>
</tr>
<tr class="even">
<td align="left">- dissimilarity</td>
<td align="left">diff(attribute)</td>
<td align="left">tendency of an event happen if sender and receiver have the different attribute values (heterophily)</td>
<td align="center">choice (one-mode only)</td>
</tr>
<tr class="odd">
<td align="left">Other relation:</td>
<td align="left">tie(network)</td>
<td align="left">tendency to create an event from sender to receiver if a tie from sender to receiver exists in another relation (covariate network)</td>
<td align="center">choice</td>
</tr>
<tr class="even">
<td align="left"><em>Same relation</em>:</td>
<td align="left"></td>
<td align="left"></td>
<td align="center"></td>
</tr>
<tr class="odd">
<td align="left">- repetition</td>
<td align="left">inertia(network)</td>
<td align="left">tendency to create an event from sender to receiver if this event happened before; tendency to update existing ties rather than creating new ones</td>
<td align="center">choice</td>
</tr>
<tr class="even">
<td align="left">- reciprocity</td>
<td align="left">recip(network)</td>
<td align="left">tendency to create an event from sender to receiver if receiver sent events to sender before</td>
<td align="center">choice (one-mode only)</td>
</tr>
<tr class="odd">
<td align="left"><em>Network context</em>:</td>
<td align="left"></td>
<td align="left"></td>
<td align="center"></td>
</tr>
<tr class="even">
<td align="left">- transitivity</td>
<td align="left">trans(network)</td>
<td align="left">tendency to create an event from sender to receiver if it closes two-paths (sender-&gt;tertius-&gt;receiver) in the past events network</td>
<td align="center">choice (one-mode only)</td>
</tr>
<tr class="odd">
<td align="left">- transitivity via two relations</td>
<td align="left">mixedTrans(list(network1, network2))</td>
<td align="left">tendency to create an event from sender to receiver if it closes two-paths with events (sender-&gt;tertius) in network1 and (tertius-&gt;receiver) in network2 in the past events</td>
<td align="center">choice (one-mode only)</td>
</tr>
<tr class="even">
<td align="left">- four cycle</td>
<td align="left">four(network, isTwoMode)</td>
<td align="left">tendency to create an event from sender to receiver if they are connected via two intermediaries in the past events network</td>
<td align="center">choice</td>
</tr>
<tr class="odd">
<td align="left">- embeddedness</td>
<td align="left">node_trans(network, isTwoMode)</td>
<td align="left">tendency of an actor to create an event when s/he is the source in more transitive triangles (source-&gt;tertius-&gt;alter&lt;-source)</td>
<td align="center">rate</td>
</tr>
<tr class="even">
<td align="left">- popularity (indegree)</td>
<td align="left">indeg(network, isTwoMode)</td>
<td align="left">rate model: tendency of an actor to create an event when s/he has received many events (same or other relation); choice model: tendency of an actor to be selected as event receiver when s/he has received many events (same or other relation)</td>
<td align="center">rate &amp; choice</td>
</tr>
<tr class="odd">
<td align="left">- activity (outdegree)</td>
<td align="left">outdeg(network, isTwoMode)</td>
<td align="left">rate model: tendency of an actor to create an event when s/he has sent many events (same or other relation); choice model: tendency of an actor to be selected as event receiver when s/he has sent many events (same or other relation)</td>
<td align="center">rate &amp; choice</td>
</tr>
<tr class="even">
<td align="left"><em>Network context and attribute</em>:</td>
<td align="left"></td>
<td align="left"></td>
<td align="center"></td>
</tr>
<tr class="odd">
<td align="left">- connection to ‘rich’ neighbours</td>
<td align="left">tertius(network, attribute, isTwoMode)</td>
<td align="left">tendency of actors to be more active (rate model) or be selected (choice model) when their (incoming) network neighbours have (aggregated) higher values on the selected attribute</td>
<td align="center">rate &amp; choice</td>
</tr>
<tr class="even">
<td align="left">- connection to similar neighbours</td>
<td align="left">tertius_diff(network, attribute, isTwoMode)</td>
<td align="left">tendency of actors to be more active (rate model) or be selected (choice model) when their (incoming) network neighbours have more similar (?) values on the selected attribute</td>
<td align="center">rate &amp; choice</td>
</tr>
</tbody>
</table>
<div class="question">
<p>Exercises</p>
<ol style="list-style-type: decimal">
<li><p>Which effects did we already encounter in Session 5?</p></li>
<li><p>Based on your knowledge of the world, do you expect that popularity (indegree) plays a role in predicting how often pupils make statements or to whom they make statements? Note that popularity (indegree) can refer to received statements but also to other received events or ties (friendship, current playmates).</p></li>
<li><p>Based again on your knowledge of the world, do you expect that transitivity plays a role in predicting how often pupils make statements or to whom they make statements?</p></li>
</ol>
</div>
<div id="section-section" class="section level3">
<h3></h3>
</div>
<div id="section-section-1" class="section level3">
<h3></h3>
<p>Some important additional arguments for predictor construction:</p>
<ul>
<li><code>window</code>: Allows the user to set the length of the preceding <i class="question">time window</i> within which network ties/events are used to calculate the predictor. By default, all preceding ties or events are used (<code>Inf</code> for infinity).</li>
<li><code>weighted</code>: If set to <code>TRUE</code>, only checks the presence of the searched tie/event(s) (1 = Yes, 0 = No). If <code>FALSE</code> (default), counts the searched tie/event(s).</li>
<li><code>isTwoMode</code>: For some effects, th euser must specify whether the network is two-mode (<code>isTwoMode = TRUE</code>) or one-mode (<code>isTwoMode = FALSE</code>, default).</li>
</ul>
</div>
</div>
<div id="section-data-preparation-for-the-goldfish-package" class="section level2">
<h2>Data preparation for the <code>goldfish</code> package</h2>
<p>Before we can estimate a model, we must create data objects in several steps:</p>
<ol style="list-style-type: decimal">
<li>The node set and time-constant node characteristics or starting values for time-varying node characteristics.</li>
<li>The changes to node attributes (if any, optional) over time.</li>
<li>The static or starting networks. One network for each type of tie or event. One of these is the dependent/outcome network, all can be used as independent/predictor networks. All networks must have the same nodes as the nodes set and ordered as in the nodes set.</li>
<li>The events that happen to the networks. Create a list of events for each network, indicating when an event starts or stops. One of these lists contains the events that we want to predict.</li>
</ol>
<p>The steps are explained in <em>Appendix: Data preparation</em>. As a result of these steps, we have:</p>
<ol style="list-style-type: decimal">
<li>A list of events that we want to predict: <code>events_statements</code>.</li>
<li>One or more networks that we can use to construct independent/predictor variables (see the previous topic):
<ul>
<li><code>net_friends</code>: static friendship relations amng pupils;</li>
<li><code>net_playmates</code>: network of playmates at time 0 linked to <code>events_playmates</code>; +<code>net_statements</code>: network of statements at time 0 linked to <code>events_statements</code>.</li>
</ul></li>
<li>A node list that may contain node characteristics, which can be used as attributes to construct independent/predictor variables (see the previous topic): <code>nodes_pupils</code> containing attributes <code>sex</code>, <code>ethnicity</code>, and <code>adhd</code>.</li>
</ol>
<div class="tutorial-exercise" data-label="inspect1" data-caption="Code" data-completion="1" data-diagnostics="1" data-startover="1" data-lines="0">
<pre class="text"><code># Show data set (as a tibble).
as_tibble(nodes_pupils)</code></pre>
<script type="application/json" data-opts-chunk="1">{"fig.width":6.5,"fig.height":4,"fig.retina":2,"fig.align":"default","fig.keep":"high","fig.show":"asis","out.width":624,"warning":false,"error":false,"message":false,"exercise.df_print":"paged","exercise.checker":"NULL"}</script>
</div>
<div class="question">
<p>Exercise</p>
<ol style="list-style-type: decimal">
<li>Adapt and run the above code to inspect all data sets that result from the data preparation steps.
<ul>
<li>Some or not very informative; why?</li>
<li>Pay attention of the order of pupils in different data sets. What do you notice?</li>
</ul></li>
</ol>
</div>
</div>
<div id="section-estimation-with-the-goldfish-package" class="section level2">
<h2>Estimation with the <code>goldfish</code> package</h2>
<p>In Dynamic Network Actor Models (DyNAMs), the two models are estimated separately.</p>
<p>Let us first estimate the rate model: Can we predict the speed at which pupils make statements?</p>
<p>We can only use characteristics of the sending pupils to predict their statement speed (see the table in Topic <i class="question">Build-in types of predictors</i>):</p>
<ul>
<li>Sender effects (<code>ego(attribute)</code>);</li>
<li>Sender’s popularity (<code>indeg(network, isTwoMode)</code>) and activity (<code>outdeg(network, isTwoMode)</code>);</li>
<li>embeddedness in transitive fragments (<code>node_trans(network, isTwoMode)</code>);</li>
<li>connection to ‘rich’ neighbours (<code>tertius(network, attribute, isTwoMode)</code>);</li>
<li>connection to similar neighbours (<code>tertius_diff(network, attribute, isTwoMode)</code>).</li>
</ul>
<div class="tutorial-exercise" data-label="ratemodel1" data-caption="Code" data-completion="1" data-diagnostics="1" data-startover="1" data-lines="0">
<pre class="text"><code># Estimate the rate at which pupils make statements.
# Step 1: Define the dependent events
events_dependent &lt;- defineDependentEvents(
  events = events_statements[events_statements$increment == 1,], #the event list that should be considered as a dependent variable in models: only statement starts
  nodes = nodes_pupils, #data frame or a nodes.goldfish object containing the nodes used in the event list
  defaultNetwork = net_statements #name of a goldfish network object
)
# Step 2: Estimate the rate model.
model_statement_rate &lt;- estimate(
  events_dependent ~
    ego(nodes_pupils$sex) + 
    ego(nodes_pupils$adhd) + 
    indeg(net_statements, isTwoMode = FALSE, weighted = TRUE, window = 3) +
    indeg(net_friends, isTwoMode = FALSE),
    model = &quot;DyNAM&quot;, subModel = &quot;rate&quot; #select the rate submodel
  )
summary(model_statement_rate)</code></pre>
<script type="application/json" data-opts-chunk="1">{"fig.width":6.5,"fig.height":4,"fig.retina":2,"fig.align":"default","fig.keep":"high","fig.show":"asis","out.width":624,"warning":false,"error":false,"message":false,"exercise.df_print":"paged","exercise.checker":"NULL"}</script>
</div>
<div class="question">
<p>Exercises</p>
<ol style="list-style-type: decimal">
<li></li>
</ol>
</div>
<p>{plus results interpretation; no predict() of confint() functions available}</p>
<p>Poisson model; (inverse) waiting time (rate function: speed): positive effects speed up, increase the probability of acting</p>
<div id="section-estimate-the-receiver-choice-model" class="section level3">
<h3>Estimate the (receiver) choice model</h3>
<div class="question">
<p>Exercises</p>
<ol style="list-style-type: decimal">
<li></li>
</ol>
</div>
<p>{plus results interpretation}</p>
</div>
<div id="section-relational-events-model" class="section level3">
<h3>Relational Events Model</h3>
<p>In Relational Events Models (REMs), the rate and choice models are estimated at the same time.</p>
<div class="question">
<p>Exercises</p>
<ol style="list-style-type: decimal">
<li></li>
</ol>
</div>
</div>
<div id="section-playmate-coordination" class="section level3">
<h3>Playmate coordination</h3>
<div class="question">
<p>Exercises</p>
<ol style="list-style-type: decimal">
<li></li>
</ol>
</div>
</div>
</div>
<div id="section-rsiena-for-panel-wave-data" class="section level2">
<h2><code>RSiena</code> for panel wave data</h2>
</div>
<div id="section-conclusion" class="section level2">
<h2>Conclusion</h2>
</div>
<div id="section-further-reading" class="section level2">
<h2>Further Reading</h2>
</div>
<div id="section-appendix-data-preparation" class="section level2">
<h2>Appendix: Data preparation</h2>
<p>This is an advanced topic that you should probably only study if you start working with your own data. Nevertheless, the comments may help you understand the contents of the data that we need for <code>goldfish</code>.</p>
<div class="tutorial-exercise" data-label="dataprep" data-caption="Code" data-completion="1" data-diagnostics="1" data-startover="1" data-lines="0">
<pre class="text"><code># Create the data sets for predicting statements and playmate ties with the
# goldfish package.

# Step 1: The node set and time-constant node characteristics or starting values for time-varying node characteristics.
# - Nodes are identified by textual labels (required). 
# - variable &#39;present&#39; (required) indicates if a pupil was already present at
#   the first time point.
# - Add time-constant node characteristics or starting values for time-varying
#   node characteristics (if any). These can be used as attributes in the
#   construction of predictors.
# The basic data set pupils_const contains all information.
nodes_pupils &lt;- pupils_const %&gt;% 
  #sort by label to ensure the same order in all networks
  arrange(label) %&gt;%
  #select relevant variables.
  select(label, present, sex, ethnicity, adhd)
# Turn the data frame into a nodes.goldfish data object.
nodes_pupils &lt;- defineNodes(nodes = nodes_pupils)
print(&quot;Showing data set nodes_pupils:&quot;)
as_tibble(nodes_pupils)

# Step 2: The changes to node attributes (if any, optional) over time.
# We do not have time-varying node attributes.
# If we had, we should ave used the linkEvents() function with arguments
# changeEvents and attribute.

# Step 3. The static or starting networks. 
# One network for each type of tie or event. One of these is the
# dependent/outcome network, all can be used as independent/predictor networks.
# All networks must have the same nodes as the nodes set and ordered as in the
# nodes set created in Step 1.
# - The initially empty directed network of statements.
net_statements &lt;- defineNetwork(nodes = nodes_pupils, directed = TRUE)
# - The initially empty undirected network of playmates.
net_playmates &lt;- defineNetwork(nodes = nodes_pupils, directed = FALSE)
# - The static undirected network of friendships.
#   For a static network, create a 0/1 matrix with rows and columns in the same
#   order as in the list of nodes.
#   The matrix columns must have the node labels as dimnames, but the rows do
#   not need to have dimnames.
friends_matrix &lt;- pairs_const %&gt;%
  #keep only the sender and receiver
  select(from, to, friend) %&gt;%
  #add labels to IDs (so goldfish can match the matrix to the nodes)
  left_join(pupils_const[,c(&quot;ID&quot;, &quot;label&quot;)], by = c(&quot;from&quot; = &quot;ID&quot;)) %&gt;%
  left_join(pupils_const[,c(&quot;ID&quot;, &quot;label&quot;)], by = c(&quot;to&quot; = &quot;ID&quot;)) %&gt;%
  #label.x is sender, label.y is receiver: sort to match the nodes
  arrange(label.x, label.y) %&gt;%
  #put &#39;to&#39; values in columns
  pivot_wider(
    id_cols = label.x,
    names_from = label.y, #receiver provides the new columns (variables)
    values_from = friend, #variable friend indicates 0/1 friendship
    values_fill = 0, #replace missing values (e.g., on the diagonal) by 0
    names_sort = TRUE #ensure that the columns are in the correct order
    ) %&gt;%
  #drop the from variable (row 1 has ID 1, etc.)
  select(-label.x) %&gt;%
  #turn into a matrix
  as.matrix()
# create the undirected network of friendships
net_friends &lt;- defineNetwork(matrix = friends_matrix, nodes = nodes_pupils, directed = FALSE)
print(&quot;Showing data set net_friends:&quot;)
as_tibble(net_friends)
# Cleanup.
rm(friends_matrix)

# Step 4. The events that happen to the networks. 
# Create a list of events for each network, indicating when an event starts or
# stops. Note: event start and end must become different rows (observations).
# One of these lists contains the events that we want to predict.
# Each events list must contain the variables: 
# - time: POSIXct, integer, or numeric (with decimals), 
# - sender: character label that occurs in nodes_pupils,
# - receiver: character label that occurs in nodes_pupils, 
# - increment: create (1) or dissolve (-1) event (numeric). Instead of
#   increment: replace, which updates the value of an attribute or tie (pair)?

# A. statement events
events_statements &lt;- pairs_dyn %&gt;%
  #select utterances in Break 1
  filter(dyntie == &quot;Utterance&quot; &amp; breakID == 1) %&gt;%
  #add labels to IDs (so goldfish can match the matrix to the nodes)
  left_join(pupils_const[,c(&quot;ID&quot;, &quot;label&quot;)], by = c(&quot;from&quot; = &quot;ID&quot;)) %&gt;%
  left_join(pupils_const[,c(&quot;ID&quot;, &quot;label&quot;)], by = c(&quot;to&quot; = &quot;ID&quot;)) %&gt;%
  #rename onset and terminus
  rename(
    onset.time = onset,
    terminus.time = terminus
  ) %&gt;%
  #stack onset and terminus
  pivot_longer(
    cols = onset.time:terminus.censored,
    names_to = c(&quot;type&quot;, &quot;.value&quot;),
    names_sep = &quot;\\.&quot;,
    values_drop_na = TRUE
  ) %&gt;%
  #filter out censored end times (in case we want to predict end times)
  filter(!censored | type == &quot;onset&quot;) %&gt;%
  #recode increment into 1 for onset and -1 for terminus
  mutate(increment = ifelse(type == &quot;onset&quot;, 1, -1)) %&gt;%
  #select and rename relevant variables
  select(time, sender = label.x, receiver = label.y, increment) %&gt;%
  #order by time
  arrange(time) %&gt;%
  #a tibble throws a warning (in tutorial): Unknown or uninitialised column: `replace`.
  as.data.frame()
# link events to the network
net_statements &lt;- linkEvents(x = net_statements, changeEvents = events_statements, nodes = nodes_pupils)
print(&quot;Showing data set events_statements:&quot;)
as_tibble(events_statements)

# B. playmate events
events_playmates &lt;- pairs_dyn %&gt;%
  #select playmate cases in Break 1 and only one row for each pair (undirected data)
  filter(dyntie == &quot;Playmate&quot; &amp; breakID == 1 &amp; from &lt; to) %&gt;%
  #add labels to IDs (so goldfish can match the matrix to the nodes)
  left_join(pupils_const[,c(&quot;ID&quot;, &quot;label&quot;)], by = c(&quot;from&quot; = &quot;ID&quot;)) %&gt;%
  left_join(pupils_const[,c(&quot;ID&quot;, &quot;label&quot;)], by = c(&quot;to&quot; = &quot;ID&quot;)) %&gt;%
  #rename onset and terminus
  rename(
    onset.time = onset,
    terminus.time = terminus
  ) %&gt;%
  #stack onset and terminus
  pivot_longer(
    cols = onset.time:terminus.censored,
    names_to = c(&quot;type&quot;, &quot;.value&quot;),
    names_sep = &quot;\\.&quot;,
    values_drop_na = TRUE
  ) %&gt;%
  #filter out censored end times (there aren&#39;t any)
  filter(!censored | type == &quot;onset&quot;) %&gt;%
  #recode increment into 1 for onset and -1 for terminus
  mutate(increment = ifelse(
    type == &quot;onset&quot;, 1, -1
  )) %&gt;%
  #select and rename relevant variables
  select(time, sender = label.x, receiver = label.y, increment) %&gt;%
  #order by time
  arrange(time) %&gt;% #a tibble throws a warning (in tutorial): Unknown or uninitialised column: `replace`.
  as.data.frame()
# link events to the network
net_playmates &lt;- linkEvents(x = net_playmates, changeEvents = events_playmates, nodes = nodes_pupils)
print(&quot;Showing data set events_playmates:&quot;)
as_tibble(events_playmates)</code></pre>
<script type="application/json" data-opts-chunk="1">{"fig.width":6.5,"fig.height":4,"fig.retina":2,"fig.align":"default","fig.keep":"high","fig.show":"asis","out.width":624,"warning":false,"error":false,"message":false,"exercise.df_print":"paged","exercise.checker":"NULL"}</script>
</div>

<script type="application/shiny-prerendered" data-context="server-start">
library(learnr)
library(tidyverse)
library(knitr)
library(RColorBrewer) #for colour palettes
library(goldfish) #for relational events models
library(igraph) #for network visualization
library(ggraph) #for network visualization

knitr::opts_chunk$set(echo = FALSE, warning = FALSE, message = FALSE)

# Standard colors to use
brewercolors <- brewer.pal( 5, name =  "Spectral")
brewercolors[3] <- "#ffff00"
names(brewercolors) <- c("Red", "Orange", "Yellow", "Green", "Blue")
#usage: colour = brewercolors["Blue"]

#load basic data
pupils_const <- NikitaRocks::pupils_const
pupils_dyn <- NikitaRocks::pupils_dyn
pairs_const <- NikitaRocks::pairs_const
pairs_dyn <- NikitaRocks::pairs_dyn

#load prepared analysis data sets
utterances <- NikitaRocks::utterances

# Create the data sets for predicting statements and playmate ties with the
# goldfish package.

# Step 1: The node set and time-constant node characteristics or starting values for time-varying node characteristics.
# - Nodes are identified by textual labels (required). 
# - variable 'present' (required) indicates if a pupil was already present at
#   the first time point.
# - Add time-constant node characteristics or starting values for time-varying
#   node characteristics (if any). These can be used as attributes in the
#   construction of predictors.
# The basic data set pupils_const contains all information.
nodes_pupils <- pupils_const %>% 
  #sort by label to ensure the same order in all networks
  arrange(label) %>%
  #select relevant variables.
  select(label, present, sex, ethnicity, adhd)
# Turn the data frame into a nodes.goldfish data object.
nodes_pupils <- defineNodes(nodes = nodes_pupils)
print("Showing data set nodes_pupils:")
as_tibble(nodes_pupils)

# Step 2: The changes to node attributes (if any, optional) over time.
# We do not have time-varying node attributes.
# If we had, we should ave used the linkEvents() function with arguments
# changeEvents and attribute.

# Step 3. The static or starting networks. 
# One network for each type of tie or event. One of these is the
# dependent/outcome network, all can be used as independent/predictor networks.
# All networks must have the same nodes as the nodes set and ordered as in the
# nodes set created in Step 1.
# - The initially empty directed network of statements.
net_statements <- defineNetwork(nodes = nodes_pupils, directed = TRUE)
# - The initially empty undirected network of playmates.
net_playmates <- defineNetwork(nodes = nodes_pupils, directed = FALSE)
# - The static undirected network of friendships.
#   For a static network, create a 0/1 matrix with rows and columns in the same
#   order as in the list of nodes.
#   The matrix columns must have the node labels as dimnames, but the rows do
#   not need to have dimnames.
friends_matrix <- pairs_const %>%
  #keep only the sender and receiver
  select(from, to, friend) %>%
  #add labels to IDs (so goldfish can match the matrix to the nodes)
  left_join(pupils_const[,c("ID", "label")], by = c("from" = "ID")) %>%
  left_join(pupils_const[,c("ID", "label")], by = c("to" = "ID")) %>%
  #label.x is sender, label.y is receiver: sort to match the nodes
  arrange(label.x, label.y) %>%
  #put 'to' values in columns
  pivot_wider(
    id_cols = label.x,
    names_from = label.y, #receiver provides the new columns (variables)
    values_from = friend, #variable friend indicates 0/1 friendship
    values_fill = 0, #replace missing values (e.g., on the diagonal) by 0
    names_sort = TRUE #ensure that the columns are in the correct order
    ) %>%
  #drop the from variable (row 1 has ID 1, etc.)
  select(-label.x) %>%
  #turn into a matrix
  as.matrix()
# create the undirected network of friendships
net_friends <- defineNetwork(matrix = friends_matrix, nodes = nodes_pupils, directed = FALSE)
print("Showing data set net_friends:")
as_tibble(net_friends)
# Cleanup.
rm(friends_matrix)

# Step 4. The events that happen to the networks. 
# Create a list of events for each network, indicating when an event starts or
# stops. Note: event start and end must become different rows (observations).
# One of these lists contains the events that we want to predict.
# Each events list must contain the variables: 
# - time: POSIXct, integer, or numeric (with decimals), 
# - sender: character label that occurs in nodes_pupils,
# - receiver: character label that occurs in nodes_pupils, 
# - increment: create (1) or dissolve (-1) event (numeric). Instead of
#   increment: replace, which updates the value of an attribute or tie (pair)?

# A. statement events
events_statements <- pairs_dyn %>%
  #select utterances in Break 1
  filter(dyntie == "Utterance" & breakID == 1) %>%
  #add labels to IDs (so goldfish can match the matrix to the nodes)
  left_join(pupils_const[,c("ID", "label")], by = c("from" = "ID")) %>%
  left_join(pupils_const[,c("ID", "label")], by = c("to" = "ID")) %>%
  #rename onset and terminus
  rename(
    onset.time = onset,
    terminus.time = terminus
  ) %>%
  #stack onset and terminus
  pivot_longer(
    cols = onset.time:terminus.censored,
    names_to = c("type", ".value"),
    names_sep = "\\.",
    values_drop_na = TRUE
  ) %>%
  #filter out censored end times (in case we want to predict end times)
  filter(!censored | type == "onset") %>%
  #recode increment into 1 for onset and -1 for terminus
  mutate(increment = ifelse(type == "onset", 1, -1)) %>%
  #select and rename relevant variables
  select(time, sender = label.x, receiver = label.y, increment) %>%
  #order by time
  arrange(time) %>%
  #a tibble throws a warning (in tutorial): Unknown or uninitialised column: `replace`.
  as.data.frame()
# link events to the network
net_statements <- linkEvents(x = net_statements, changeEvents = events_statements, nodes = nodes_pupils)
print("Showing data set events_statements:")
as_tibble(events_statements)

# B. playmate events
events_playmates <- pairs_dyn %>%
  #select playmate cases in Break 1 and only one row for each pair (undirected data)
  filter(dyntie == "Playmate" & breakID == 1 & from < to) %>%
  #add labels to IDs (so goldfish can match the matrix to the nodes)
  left_join(pupils_const[,c("ID", "label")], by = c("from" = "ID")) %>%
  left_join(pupils_const[,c("ID", "label")], by = c("to" = "ID")) %>%
  #rename onset and terminus
  rename(
    onset.time = onset,
    terminus.time = terminus
  ) %>%
  #stack onset and terminus
  pivot_longer(
    cols = onset.time:terminus.censored,
    names_to = c("type", ".value"),
    names_sep = "\\.",
    values_drop_na = TRUE
  ) %>%
  #filter out censored end times (there aren't any)
  filter(!censored | type == "onset") %>%
  #recode increment into 1 for onset and -1 for terminus
  mutate(increment = ifelse(
    type == "onset", 1, -1
  )) %>%
  #select and rename relevant variables
  select(time, sender = label.x, receiver = label.y, increment) %>%
  #order by time
  arrange(time) %>% #a tibble throws a warning (in tutorial): Unknown or uninitialised column: `replace`.
  as.data.frame()
# link events to the network
net_playmates <- linkEvents(x = net_playmates, changeEvents = events_playmates, nodes = nodes_pupils)
print("Showing data set events_playmates:")
as_tibble(events_playmates)
</script>
 
<script type="application/shiny-prerendered" data-context="server">
learnr:::register_http_handlers(session, metadata = NULL)
</script>
 
<script type="application/shiny-prerendered" data-context="server">
session$onSessionEnded(function() {
        learnr:::session_stop_event(session)
      })
</script>
 
<script type="application/shiny-prerendered" data-context="server">
`tutorial-exercise-installGoldfish-result` <- learnr:::setup_exercise_handler(reactive(req(input$`tutorial-exercise-installGoldfish-code-editor`)), session)
output$`tutorial-exercise-installGoldfish-output` <- renderUI({
  `tutorial-exercise-installGoldfish-result`()
})
</script>
 
<script type="application/shiny-prerendered" data-context="server">
`tutorial-exercise-inspect1-result` <- learnr:::setup_exercise_handler(reactive(req(input$`tutorial-exercise-inspect1-code-editor`)), session)
output$`tutorial-exercise-inspect1-output` <- renderUI({
  `tutorial-exercise-inspect1-result`()
})
</script>
 
<script type="application/shiny-prerendered" data-context="server">
`tutorial-exercise-ratemodel1-result` <- learnr:::setup_exercise_handler(reactive(req(input$`tutorial-exercise-ratemodel1-code-editor`)), session)
output$`tutorial-exercise-ratemodel1-output` <- renderUI({
  `tutorial-exercise-ratemodel1-result`()
})
</script>
 
<script type="application/shiny-prerendered" data-context="server">
`tutorial-exercise-dataprep-result` <- learnr:::setup_exercise_handler(reactive(req(input$`tutorial-exercise-dataprep-code-editor`)), session)
output$`tutorial-exercise-dataprep-output` <- renderUI({
  `tutorial-exercise-dataprep-result`()
})
</script>
 <!--html_preserve-->
<script type="application/shiny-prerendered" data-context="dependencies">
{"type":"list","attributes":{},"value":[{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["header-attrs"]},{"type":"character","attributes":{},"value":["2.5"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["rmd/h/pandoc"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["header-attrs.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["rmarkdown"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["2.5"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["jquery"]},{"type":"character","attributes":{},"value":["1.11.3"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["rmd/h/jquery"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["jquery.min.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["rmarkdown"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["2.5"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["bootstrap"]},{"type":"character","attributes":{},"value":["3.3.5"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["rmd/h/bootstrap"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["viewport"]}},"value":[{"type":"character","attributes":{},"value":["width=device-width, initial-scale=1"]}]},{"type":"character","attributes":{},"value":["js/bootstrap.min.js","shim/html5shiv.min.js","shim/respond.min.js"]},{"type":"character","attributes":{},"value":["css/cerulean.min.css"]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["rmarkdown"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["2.5"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["pagedtable"]},{"type":"character","attributes":{},"value":["1.1"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["rmd/h/pagedtable-1.1"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["js/pagedtable.js"]},{"type":"character","attributes":{},"value":["css/pagedtable.css"]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["rmarkdown"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["2.5"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["highlightjs"]},{"type":"character","attributes":{},"value":["9.12.0"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["rmd/h/highlightjs"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["highlight.js"]},{"type":"character","attributes":{},"value":["textmate.css"]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["rmarkdown"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["2.5"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["tutorial"]},{"type":"character","attributes":{},"value":["0.10.1"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/tutorial"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["tutorial.js"]},{"type":"character","attributes":{},"value":["tutorial.css"]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["learnr"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.10.1"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["tutorial-autocompletion"]},{"type":"character","attributes":{},"value":["0.10.1"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/tutorial"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["tutorial-autocompletion.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["learnr"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.10.1"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["tutorial-diagnostics"]},{"type":"character","attributes":{},"value":["0.10.1"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/tutorial"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["tutorial-diagnostics.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["learnr"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.10.1"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["tutorial-format"]},{"type":"character","attributes":{},"value":["0.10.1"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["rmarkdown/templates/tutorial/resources"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["tutorial-format.js"]},{"type":"character","attributes":{},"value":["tutorial-format.css","rstudio-theme.css"]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["learnr"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.10.1"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["jquery"]},{"type":"character","attributes":{},"value":["1.11.3"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["rmd/h/jquery"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["jquery.min.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["rmarkdown"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["2.5"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["navigation"]},{"type":"character","attributes":{},"value":["1.1"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["rmd/h/navigation-1.1"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["tabsets.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["rmarkdown"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["2.5"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["highlightjs"]},{"type":"character","attributes":{},"value":["9.12.0"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["rmd/h/highlightjs"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["highlight.js"]},{"type":"character","attributes":{},"value":["default.css"]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["rmarkdown"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["2.5"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["anchor-sections"]},{"type":"character","attributes":{},"value":["1.0"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["rmd/h/anchor-sections"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["anchor-sections.js"]},{"type":"character","attributes":{},"value":["anchor-sections.css"]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["rmarkdown"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["2.5"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["jquery"]},{"type":"character","attributes":{},"value":["1.11.3"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["rmd/h/jquery"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["jquery.min.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["rmarkdown"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["2.5"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["font-awesome"]},{"type":"character","attributes":{},"value":["5.1.0"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["rmd/h/fontawesome"]}]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["css/all.css","css/v4-shims.css"]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["rmarkdown"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["2.5"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["bootbox"]},{"type":"character","attributes":{},"value":["4.4.0"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/bootbox"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["bootbox.min.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["learnr"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.10.1"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["idb-keyvalue"]},{"type":"character","attributes":{},"value":["3.2.0"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/idb-keyval"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["idb-keyval-iife-compat.min.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["learnr"]},{"type":"logical","attributes":{},"value":[false]},{"type":"character","attributes":{},"value":["0.10.1"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["tutorial"]},{"type":"character","attributes":{},"value":["0.10.1"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/tutorial"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["tutorial.js"]},{"type":"character","attributes":{},"value":["tutorial.css"]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["learnr"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.10.1"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["tutorial-autocompletion"]},{"type":"character","attributes":{},"value":["0.10.1"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/tutorial"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["tutorial-autocompletion.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["learnr"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.10.1"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["tutorial-diagnostics"]},{"type":"character","attributes":{},"value":["0.10.1"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/tutorial"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["tutorial-diagnostics.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["learnr"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.10.1"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["ace"]},{"type":"character","attributes":{},"value":["1.2.6"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/ace"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["ace.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["learnr"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.10.1"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["clipboardjs"]},{"type":"character","attributes":{},"value":["1.5.15"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/clipboardjs"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["clipboard.min.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["learnr"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.10.1"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["ace"]},{"type":"character","attributes":{},"value":["1.2.6"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/ace"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["ace.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["learnr"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.10.1"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["clipboardjs"]},{"type":"character","attributes":{},"value":["1.5.15"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/clipboardjs"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["clipboard.min.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["learnr"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.10.1"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["ace"]},{"type":"character","attributes":{},"value":["1.2.6"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/ace"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["ace.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["learnr"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.10.1"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["clipboardjs"]},{"type":"character","attributes":{},"value":["1.5.15"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/clipboardjs"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["clipboard.min.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["learnr"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.10.1"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["ace"]},{"type":"character","attributes":{},"value":["1.2.6"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/ace"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["ace.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["learnr"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.10.1"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["clipboardjs"]},{"type":"character","attributes":{},"value":["1.5.15"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/clipboardjs"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["clipboard.min.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["learnr"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.10.1"]}]}]}
</script>
<!--/html_preserve-->
<!--html_preserve-->
<script type="application/shiny-prerendered" data-context="execution_dependencies">
{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["packages"]}},"value":[{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["packages","version"]},"class":{"type":"character","attributes":{},"value":["data.frame"]},"row.names":{"type":"integer","attributes":{},"value":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96]}},"value":[{"type":"character","attributes":{},"value":["assertthat","backports","base","broom","cellranger","changepoint","cli","colorspace","compiler","crayon","datasets","DBI","dbplyr","digest","dplyr","ellipsis","evaluate","fansi","farver","fastmap","forcats","fs","generics","ggforce","ggplot2","ggraph","ggrepel","glue","goldfish","graphics","graphlayouts","grDevices","grid","gridExtra","gtable","haven","hms","htmltools","htmlwidgets","httpuv","httr","igraph","jsonlite","knitr","labeling","later","lattice","learnr","lifecycle","lubridate","magrittr","markdown","MASS","methods","mime","modelr","munsell","NikitaRocks","pillar","pkgconfig","polyclip","promises","purrr","R6","RColorBrewer","Rcpp","readr","readxl","reprex","rlang","rmarkdown","rprojroot","rstudioapi","rvest","scales","shiny","stats","stringi","stringr","tibble","tidygraph","tidyr","tidyselect","tidyverse","tools","tweenr","utils","vctrs","viridis","viridisLite","withr","xfun","xml2","xtable","yaml","zoo"]},{"type":"character","attributes":{},"value":["0.2.1","1.2.0","4.0.3","0.7.2","1.1.0","2.2.2","2.2.0","2.0-0","4.0.3","1.3.4","4.0.3","1.1.0","2.0.0","0.6.27","1.0.2","0.3.1","0.14","0.4.1","2.0.3","1.0.1","0.5.0","1.5.0","0.1.0","0.3.2","3.3.2","2.0.4","0.8.2","1.4.2","1.4.9","4.0.3","0.7.1","4.0.3","4.0.3","2.3","0.3.0","2.3.1","0.5.3","0.5.0","1.5.2","1.5.4","1.4.2","1.2.6","1.7.1","1.30","0.4.2","1.1.0.1","0.20-41","0.10.1","0.2.0","1.7.9.2","2.0.1","1.1","7.3-53","4.0.3","0.9","0.1.8","0.5.0","0.1.0","1.4.7","2.0.3","1.10-0","1.1.1","0.3.4","2.5.0","1.1-2","1.0.6","1.4.0","1.3.1","0.3.0","0.4.8","2.5","2.0.2","0.13","0.3.6","1.1.1","1.5.0","4.0.3","1.5.3","1.4.0","3.0.4","1.2.0","1.1.2","1.1.0","1.3.0","4.0.3","1.0.1","4.0.3","0.3.6","0.5.1","0.3.0","2.3.0","0.19","1.3.2","1.8-4","2.2.1","1.8-9"]}]}]}
</script>
<!--/html_preserve-->
</div>

</div> <!-- topics -->

<div class="topicsContainer">
<div class="topicsPositioner">
<div class="band">
<div class="bandContent topicsListContainer">

<!-- begin doc-metadata -->
<div id="doc-metadata">
<h2 class="title toc-ignore" style="display:none;">Session 6. Predicting tie presence</h2>
</div>
<!-- end doc-metadata -->

</div> <!-- bandContent.topicsListContainer -->
</div> <!-- band -->
</div> <!-- topicsPositioner -->
</div> <!-- topicsContainer -->


</div> <!-- bandContent page -->
</div> <!-- pageContent band -->




<script>
// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.header').parent('thead').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});
</script>


<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>


</body>

</html>
